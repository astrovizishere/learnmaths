    <!-- Quit Level Confirmation Modal -->
    <div id="quitLevelModal" class="modal hidden">
        <div class="modal-content" style="max-width:400px; min-width:300px; padding:32px 32px 24px 32px; border-radius:24px; text-align:center;">
            <h2>Quit Level?</h2>
            <p>Are you sure you want to quit this level? Your progress will be lost.</p>
            <button id="confirmQuitBtn" class="big-button" style="margin-right:10px;">Yes, quit</button>
            <button id="cancelQuitBtn" class="big-button secondary-btn">No, continue</button>
        </div>
    </div>
    <!-- Topic Learning Modal -->
    <div id="topicModal" class="modal hidden">
        <div class="modal-content" style="max-width:700px; min-width:350px; padding:32px 32px 24px 32px; border-radius:24px;">
            <span id="closeTopicModal" style="float:right; font-size:2em; cursor:pointer;">&times;</span>
            <h2 id="modalTopicTitle"></h2>
            <p id="modalTopicDesc"></p>
            <div id="modalTopicVideo" style="margin:20px 0;"></div>
            <div id="modalTopicButtons">
                <button id="showTopicVideoBtn" class="big-button">Learn about this topic</button>
                <button id="continueTopicBtn" class="big-button secondary-btn">Continue to questions</button>
            </div>
        </div>
    </div>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Maths Learning - For Kids!</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <h1 class="main-title">ğŸŒŸ Fun Maths Learning! ğŸŒŸ</h1>
            <p class="subtitle">Welcome to your magical maths adventure!</p>
            
            <div class="login-form">
                <h2>Join the Fun!</h2>
                <input type="text" id="username" placeholder="Choose your superhero name" maxlength="20">
                <input type="number" id="password" placeholder="Pick your secret number (4 digits)" max="9999" min="1000">
                <button id="loginBtn" class="big-button login-btn">Start Learning! ğŸš€</button>
                <button id="newUserBtn" class="big-button secondary-btn">I'm New Here! âœ¨</button>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="screen hidden">
        <div class="header">
            <h1>Welcome back, <span id="currentUser"></span>! ğŸ‰</h1>
            <div class="user-stats">
                <span class="stars">â­ <span id="userStars">0</span></span>
                <span class="points">ğŸ† <span id="userPoints">0</span></span>
                <button id="logoutBtn" class="logout-btn">Logout</button>
            </div>
        </div>

        <div class="topic-grid">
            <div class="topic-card" data-topic="addition">
                <div class="topic-icon">â•</div>
                <h3>Addition</h3>
                <p>Learn to add numbers!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="addition"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="subtraction">
                <div class="topic-icon">â–</div>
                <h3>Subtraction</h3>
                <p>Learn to subtract numbers!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="subtraction"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="multiplication">
                <div class="topic-icon">âœ–ï¸</div>
                <h3>Multiplication</h3>
                <p>Master your times tables!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="multiplication"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="division">
                <div class="topic-icon">â—</div>
                <h3>Division</h3>
                <p>Learn to divide numbers!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="division"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="fractions">
                <div class="topic-icon">ğŸ•</div>
                <h3>Fractions</h3>
                <p>Learn about parts of a whole!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="fractions"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="measurement">
                <div class="topic-icon">ğŸ“</div>
                <h3>Measurement</h3>
                <p>Time, money, length and more!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="measurement"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="shapes">
                <div class="topic-icon">ğŸ”µ</div>
                <h3>Shapes & Geometry</h3>
                <p>Explore 2D and 3D shapes!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="shapes"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="statistics">
                <div class="topic-icon">ğŸ“Š</div>
                <h3>Charts & Data</h3>
                <p>Read charts and graphs!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="statistics"></div>
                </div>
            </div>
            <div class="topic-card" data-topic="numbers">
                <div class="topic-icon">ğŸ”¢</div>
                <h3>Numbers & Place Value</h3>
                <p>Count up to 1,000 and beyond!</p>
                <div class="progress-bar">
                    <div class="progress" data-progress="numbers"></div>
                </div>
            </div>
        </div>
    <!-- Topic Teaching Section (moved outside dashboard) -->
    <div id="topicTeaching" class="screen hidden">
        <div class="teaching-content">
            <h2 id="teachingTitle"></h2>
            <p id="teachingDesc"></p>
            <div id="teachingVideo"></div>
            <button id="startQuestionsBtn" class="big-button">Start Questions!</button>
        </div>
    </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen hidden">
        <div class="game-header">
            <button id="backBtn" class="back-btn">â¬…ï¸ Back</button>
            <h2 id="gameTitle">Let's Learn!</h2>
            <div class="game-stats">
                <span class="level">Level <span id="currentLevel">1</span></span>
                <span class="score">Score: <span id="currentScore">0</span></span>
            </div>
        </div>

        <div class="game-content">
            <div id="questionArea">
                <h3 id="questionText">Ready to start?</h3>
                <div id="questionDisplay"></div>
            </div>

            <div id="answerArea">
                <div id="multipleChoice" class="hidden">
                    <button class="choice-btn" data-choice="0"></button>
                    <button class="choice-btn" data-choice="1"></button>
                    <button class="choice-btn" data-choice="2"></button>
                    <button class="choice-btn" data-choice="3"></button>
                </div>

                <div id="directInput" class="hidden">
                    <div style="display:flex; flex-direction:row; align-items:center; justify-content:center; gap:16px;">
                        <input type="text" id="answerInput" placeholder="Type your answer" readonly>
                        <div id="previousWrongBox" style="display:none; min-width:80px; padding:12px 18px; background:#fff; border:3px solid #e53e3e; border-radius:12px; color:#e53e3e; font-size:1.2em; font-weight:bold; align-items:center; justify-content:center;">
                            <span id="previousWrongText"></span> <span style="font-size:1.3em; margin-left:6px;">âœ—</span>
                        </div>
                    </div>
                    <div id="numberPad" style="display:flex; flex-wrap:wrap; justify-content:center; gap:8px; margin:16px 0 8px 0;"></div>
                    <button id="submitBtn" class="big-button">Submit Answer! âœ“</button>
                </div>
            </div>

            <div id="feedback" class="feedback hidden">
                <div class="feedback-icon"></div>
                <p class="feedback-text"></p>
                <button id="nextBtn" class="big-button">Next Question! â†’</button>
            </div>

            <!-- Second Chance Modal -->
            <div id="secondChanceModal" class="modal hidden">
                <div class="modal-content" style="max-width:400px; min-width:300px; padding:32px 32px 24px 32px; border-radius:24px; text-align:center;">
                    <h2 style="color:#e67e22;">That's not quite right!</h2>
                    <p id="secondChanceText" style="font-size:1.3em; margin:18px 0; color:#333;">Would you like to try again?</p>
                    <button id="tryAgainBtn" class="big-button" style="background:#e67e22; color:#fff;">Try Again</button>
                </div>
            </div>

            <!-- Wrong Answer Modal (after second try) -->
            <div id="wrongAnswerModal" class="modal hidden">
                <div class="modal-content" style="max-width:400px; min-width:300px; padding:32px 32px 24px 32px; border-radius:24px; text-align:center;">
                    <h2 style="color:#e53e3e;">Oops! That's not correct</h2>
                    <p id="wrongAnswerText" style="font-size:1.3em; margin:18px 0; color:#333;"></p>
                    <button id="closeWrongAnswerBtn" class="big-button" style="background:#e53e3e; color:#fff;">OK, got it!</button>
                </div>
            </div>
        </div>

        <div class="progress-section">
            <div class="question-progress">
                Question <span id="questionNumber">1</span> of <span id="totalQuestions">10</span>
            </div>
            <div class="progress-bar">
                <div class="progress" id="questionProgress"></div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div id="resultsModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="resultsTitle">Level Complete! ğŸ‰</h2>
            </div>
            <div class="modal-body">
                <div class="results-icon" id="resultsIcon">ğŸŒŸ</div>
                <div class="results-stats">
                    <p class="results-score">You got <span id="correctAnswers">0</span> out of <span id="totalAnswers">10</span> questions right!</p>
                    <p class="results-percentage"><span id="percentageScore">0</span>% correct</p>
                    <p class="results-points">You earned <span id="pointsEarned">0</span> points!</p>
                    <p class="results-stars" id="starsEarned"></p>
                </div>
                <div class="results-message" id="resultsMessage">
                    <p id="performanceMessage"></p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="continueBtn" class="big-button">Continue! ğŸš€</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>